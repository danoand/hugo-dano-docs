<!DOCTYPE html>





    

    

    

    

<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8" />
    <title>dbt test passing multi args | Dano Hugo Documentation Site</title>
    <meta name="robots" content="noindex">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="Documentation, Hugo, Hugo Theme, Bootstrap" />
    <meta name="author" content="Colin Wilson - Lotus Labs" />
    <meta name="email" content="support@aigis.uk" />
    <meta name="website" content="https://lotusdocs.dev" />
    <meta name="Version" content="v0.1.0" />
    
    <link rel="icon" href="http://localhost:1313/favicon.ico" sizes="any">
<link rel="icon" type="image/svg+xml" href="http://localhost:1313/favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="http://localhost:1313/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="manifest" crossorigin="use-credentials" href="http://localhost:1313/site.webmanifest">
<meta property="og:title" content="dbt test passing multi args" />
<meta property="og:description" content="Example of a dbt test in which multiple columns are passed to the test as an argument
The test itself checks if the set of columns are either all null or all not null (don&rsquo;t want a mix of null and not null)
Test Code
-- tests/generic/test_all_or_none_populated.sql {% test all_or_none_populated(model, column_name, columns) %} with validation as (select {{ columns | join(&#39;, &#39;) }}, -- testing if all the columns in the set are null case when not ({{ columns | join(&#39; IS NULL AND &#39;) }} IS NULL) then 1 else 0 end as failed_all_null, -- testing if all the columns in the set are not null case when not ({{ columns | join(&#39; IS NOT NULL AND &#39;) }} IS NOT NULL) then 1 else 0 end as failed_all_not_null from {{ model }} ) -- test fails if there are rows where both failed_all_null = 1 and failed_all_not_null = 1 --	(ie." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/docs/dbt/test_passing_multi_args/" /><meta property="og:image" content="http://localhost:1313/opengraph/card-base-2_hu06b1a92291a380a0d2e0ec03dab66b2f_17642_filter_4721509553533451626.png"/><meta property="article:section" content="docs" />
<meta property="article:published_time" content="2024-07-11T16:56:41-05:00" />
<meta property="article:modified_time" content="2024-07-11T16:56:41-05:00" /><meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="http://localhost:1313/opengraph/card-base-2_hu06b1a92291a380a0d2e0ec03dab66b2f_17642_filter_4721509553533451626.png"/>
<meta name="twitter:title" content="dbt test passing multi args"/>
<meta name="twitter:description" content="Example of a dbt test in which multiple columns are passed to the test as an argument
The test itself checks if the set of columns are either all null or all not null (don&rsquo;t want a mix of null and not null)
Test Code
-- tests/generic/test_all_or_none_populated.sql {% test all_or_none_populated(model, column_name, columns) %} with validation as (select {{ columns | join(&#39;, &#39;) }}, -- testing if all the columns in the set are null case when not ({{ columns | join(&#39; IS NULL AND &#39;) }} IS NULL) then 1 else 0 end as failed_all_null, -- testing if all the columns in the set are not null case when not ({{ columns | join(&#39; IS NOT NULL AND &#39;) }} IS NOT NULL) then 1 else 0 end as failed_all_not_null from {{ model }} ) -- test fails if there are rows where both failed_all_null = 1 and failed_all_not_null = 1 --	(ie."/>

    
    
    
            
                <script type="text/javascript" src="http://localhost:1313/docs/js/flexsearch.bundle.js"></script>
            
        
    
    

    <link rel="stylesheet" href="/docs/scss/style.css" crossorigin="anonymous">
    
    
    </head><body>
    <div class="content">
        <div class="page-wrapper toggled">
<nav id="sidebar" class="sidebar-wrapper">
    <div class="sidebar-brand">
        <a href='/' aria-label="HomePage" alt="HomePage">
            
                <?xml version="1.0" encoding="UTF-8"?><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 250 250"><path d="m143,39.5c-18,0-18,18-18,18,0,0,0-18-18-18H22c-2.76,0-5,2.24-5,5v143c0,2.76,2.24,5,5,5h76c7.2,0,8.64,11.52,8.93,16.13.07,1.05.95,1.87,2,1.87h32.14c1.06,0,1.94-.82,2-1.87.29-4.61,1.73-16.13,8.93-16.13h76c2.76,0,5-2.24,5-5V44.5c0-2.76-2.24-5-5-5h-85Zm63,123.5c0,1.38-1.12,2.5-2.5,2.5h-60.5c-18,0-18,18-18,18,0,0,0-18-18-18h-60.5c-1.38,0-2.5-1.12-2.5-2.5v-94c0-1.38,1.12-2.5,2.5-2.5h51.5c7.2,0,8.64,11.52,8.93,16.13.07,1.05.95,1.87,2,1.87h32.14c1.06,0,1.94-.82,2-1.87.29-4.61,1.73-16.13,8.93-16.13h51.5c1.38,0,2.5,1.12,2.5,2.5v94Z" style="fill:#06f;"/></svg>
            
        </a>
    </div>
    <div class="sidebar-content" style="height: calc(100% - 131px);">
        <ul class="sidebar-menu">
            
                
                
                    
                        
                        <li class="">
                            <a class="sidebar-root-link" href="http://localhost:1313/docs/braviant-glossary-page/">
                                
                                Company Glossary
                            </a>
                        </li>
                    
                
                    
                        
                        <li class="">
                            <a class="sidebar-root-link" href="http://localhost:1313/docs/chatgpt/bv_application/">
                                
                                bv application
                            </a>
                        </li>
                    
                
                    
                        
                        <li class="">
                            <a class="sidebar-root-link" href="http://localhost:1313/docs/chatgpt/bv_app_status/">
                                
                                bv app status
                            </a>
                        </li>
                    
                
                    
                        
                        <li class="">
                            <a class="sidebar-root-link" href="http://localhost:1313/docs/chatgpt/bv_app_id_status/">
                                
                                bv app_id status
                            </a>
                        </li>
                    
                
                    
                        
                        <li class="">
                            <a class="sidebar-root-link" href="http://localhost:1313/docs/chatgpt/bv_loan/">
                                
                                bv loan
                            </a>
                        </li>
                    
                
                    
                        
                        <li class="">
                            <a class="sidebar-root-link" href="http://localhost:1313/docs/chatgpt/bv_settlement/">
                                
                                bv settlement
                            </a>
                        </li>
                    
                
                    
                        
                        <li class="">
                            <a class="sidebar-root-link" href="http://localhost:1313/docs/chatgpt/bv_app_ev_states/">
                                
                                bv app ev states
                            </a>
                        </li>
                    
                
                    
                        
                        <li class="">
                            <a class="sidebar-root-link" href="http://localhost:1313/docs/chatgpt/bv_loan_statuses/">
                                
                                bv loan statuses
                            </a>
                        </li>
                    
                
                    
                        
                        <li class="">
                            <a class="sidebar-root-link" href="http://localhost:1313/docs/chatgpt/db-table-columns-info/">
                                
                                db table columns info
                            </a>
                        </li>
                    
                
                    
                        
                        <li class="current">
                            <a class="sidebar-root-link" href="http://localhost:1313/docs/dbt/test_passing_multi_args/">
                                
                                dbt test passing multi args
                            </a>
                        </li>
                    
                
            
        </ul>
        
    </div>
    
        <ul class="sidebar-footer list-unstyled mb-0">
            
        </ul>
    
</nav>

                <main class="page-content bg-transparent">
<div id="top-header" class="top-header d-print-none">
    <div class="header-bar d-flex justify-content-between">
        <div class="d-flex align-items-center">
            <a href='/' class="logo-icon me-3" aria-label="HomePage" alt="HomePage">
                <div class="small">
                    
                            <?xml version="1.0" encoding="UTF-8"?><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 250 250"><path d="m143,39.5c-18,0-18,18-18,18,0,0,0-18-18-18H22c-2.76,0-5,2.24-5,5v143c0,2.76,2.24,5,5,5h76c7.2,0,8.64,11.52,8.93,16.13.07,1.05.95,1.87,2,1.87h32.14c1.06,0,1.94-.82,2-1.87.29-4.61,1.73-16.13,8.93-16.13h76c2.76,0,5-2.24,5-5V44.5c0-2.76-2.24-5-5-5h-85Zm63,123.5c0,1.38-1.12,2.5-2.5,2.5h-60.5c-18,0-18,18-18,18,0,0,0-18-18-18h-60.5c-1.38,0-2.5-1.12-2.5-2.5v-94c0-1.38,1.12-2.5,2.5-2.5h51.5c7.2,0,8.64,11.52,8.93,16.13.07,1.05.95,1.87,2,1.87h32.14c1.06,0,1.94-.82,2-1.87.29-4.61,1.73-16.13,8.93-16.13h51.5c1.38,0,2.5,1.12,2.5,2.5v94Z" style="fill:#06f;"/></svg>
                    
                </div>
                <div class="big">
                    
                            <?xml version="1.0" encoding="UTF-8"?><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 250 250"><path d="m143,39.5c-18,0-18,18-18,18,0,0,0-18-18-18H22c-2.76,0-5,2.24-5,5v143c0,2.76,2.24,5,5,5h76c7.2,0,8.64,11.52,8.93,16.13.07,1.05.95,1.87,2,1.87h32.14c1.06,0,1.94-.82,2-1.87.29-4.61,1.73-16.13,8.93-16.13h76c2.76,0,5-2.24,5-5V44.5c0-2.76-2.24-5-5-5h-85Zm63,123.5c0,1.38-1.12,2.5-2.5,2.5h-60.5c-18,0-18,18-18,18,0,0,0-18-18-18h-60.5c-1.38,0-2.5-1.12-2.5-2.5v-94c0-1.38,1.12-2.5,2.5-2.5h51.5c7.2,0,8.64,11.52,8.93,16.13.07,1.05.95,1.87,2,1.87h32.14c1.06,0,1.94-.82,2-1.87.29-4.61,1.73-16.13,8.93-16.13h51.5c1.38,0,2.5,1.12,2.5,2.5v94Z" style="fill:#06f;"/></svg>
                    
                </div>
            </a>
            <button id="close-sidebar" class="btn btn-icon btn-soft">
                <span class="material-icons size-20 menu-icon align-middle">menu</span>
            </button>
            
            
                    
                    <button id="flexsearch-button" class="ms-3 btn btn-soft" data-bs-toggle="collapse" data-bs-target="#FlexSearchCollapse" aria-expanded="false" aria-controls="FlexSearchCollapse">
                        <span class="material-icons size-20 menu-icon align-middle">search</span>
                        <span class="flexsearch-button-placeholder ms-1 me-2 d-none d-sm-block">Search</span>
                        <div class="d-none d-sm-block">
                            <span class="flexsearch-button-keys">
                                <kbd class="flexsearch-button-cmd-key">
                                    <svg width="44" height="15"><path d="M2.118,11.5A1.519,1.519,0,0,1,1,11.042,1.583,1.583,0,0,1,1,8.815a1.519,1.519,0,0,1,1.113-.458h.715V6.643H2.118A1.519,1.519,0,0,1,1,6.185,1.519,1.519,0,0,1,.547,5.071,1.519,1.519,0,0,1,1,3.958,1.519,1.519,0,0,1,2.118,3.5a1.519,1.519,0,0,1,1.114.458A1.519,1.519,0,0,1,3.69,5.071v.715H5.4V5.071A1.564,1.564,0,0,1,6.976,3.5,1.564,1.564,0,0,1,8.547,5.071,1.564,1.564,0,0,1,6.976,6.643H6.261V8.357h.715a1.575,1.575,0,0,1,1.113,2.685,1.583,1.583,0,0,1-2.227,0A1.519,1.519,0,0,1,5.4,9.929V9.214H3.69v.715a1.519,1.519,0,0,1-.458,1.113A1.519,1.519,0,0,1,2.118,11.5Zm0-.857a.714.714,0,0,0,.715-.714V9.214H2.118a.715.715,0,1,0,0,1.429Zm4.858,0a.715.715,0,1,0,0-1.429H6.261v.715a.714.714,0,0,0,.715.714ZM3.69,8.357H5.4V6.643H3.69ZM2.118,5.786h.715V5.071a.714.714,0,0,0-.715-.714.715.715,0,0,0-.5,1.22A.686.686,0,0,0,2.118,5.786Zm4.143,0h.715a.715.715,0,0,0,.5-1.22.715.715,0,0,0-1.22.5Z" fill="currentColor"></path><path d="M12.4,11.475H11.344l3.879-7.95h1.056Z" fill="currentColor"></path><path d="M25.073,5.384l-.864.576a2.121,2.121,0,0,0-1.786-.923,2.207,2.207,0,0,0-2.266,2.326,2.206,2.206,0,0,0,2.266,2.325,2.1,2.1,0,0,0,1.782-.918l.84.617a3.108,3.108,0,0,1-2.622,1.293,3.217,3.217,0,0,1-3.349-3.317,3.217,3.217,0,0,1,3.349-3.317A3.046,3.046,0,0,1,25.073,5.384Z" fill="currentColor"></path><path d="M30.993,5.142h-2.07v5.419H27.891V5.142h-2.07V4.164h5.172Z" fill="currentColor"></path><path d="M34.67,4.164c1.471,0,2.266.658,2.266,1.851,0,1.087-.832,1.809-2.134,1.855l2.107,2.691h-1.28L33.591,7.87H33.07v2.691H32.038v-6.4Zm-1.6.969v1.8h1.572c.832,0,1.22-.3,1.22-.918s-.411-.882-1.22-.882Z" fill="currentColor"></path><path d="M42.883,10.561H38.31v-6.4h1.033V9.583h3.54Z" fill="currentColor"></path></svg>
                                </kbd>
                                <kbd class="flexsearch-button-key">
                                    <svg width="15" height="15"><path d="M5.926,12.279H4.41L9.073,2.721H10.59Z" fill="currentColor"/></svg>
                                </kbd>
                            </span>
                        </div>
                    </button>
                
            </div>

        <div class="d-flex align-items-center">
            <ul class="list-unstyled mb-0">
                
            </ul>
            
        </div>
    </div>
    
    
            <div class="collapse" id="FlexSearchCollapse">
                <div class="flexsearch-container">
                    <div class="flexsearch-keymap">
                        <li>
                            <kbd class="flexsearch-button-cmd-key"><svg width="15" height="15" aria-label="Arrow down" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 3.5v8M10.5 8.5l-3 3-3-3"></path></g></svg></kbd>
                            <kbd class="flexsearch-button-cmd-key"><svg width="15" height="15" aria-label="Arrow up" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 11.5v-8M10.5 6.5l-3-3-3 3"></path></g></svg></kbd>
                            <span class="flexsearch-key-label">to navigate</span>
                        </li>
                        <li>
                            <kbd class="flexsearch-button-cmd-key"><svg width="15" height="15" aria-label="Enter key" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M12 3.53088v3c0 1-1 2-2 2H4M7 11.53088l-3-3 3-3"></path></g></svg></kbd>
                            <span class="flexsearch-key-label">to select</span>
                        </li>
                        <li>
                            <kbd class="flexsearch-button-cmd-key"><svg width="15" height="15" aria-label="Escape key" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M13.6167 8.936c-.1065.3583-.6883.962-1.4875.962-.7993 0-1.653-.9165-1.653-2.1258v-.5678c0-1.2548.7896-2.1016 1.653-2.1016.8634 0 1.3601.4778 1.4875 1.0724M9 6c-.1352-.4735-.7506-.9219-1.46-.8972-.7092.0246-1.344.57-1.344 1.2166s.4198.8812 1.3445.9805C8.465 7.3992 8.968 7.9337 9 8.5c.032.5663-.454 1.398-1.4595 1.398C6.6593 9.898 6 9 5.963 8.4851m-1.4748.5368c-.2635.5941-.8099.876-1.5443.876s-1.7073-.6248-1.7073-2.204v-.4603c0-1.0416.721-2.131 1.7073-2.131.9864 0 1.6425 1.031 1.5443 2.2492h-2.956"></path></g></svg></kbd>
                            <span class="flexsearch-key-label">to close</span>
                        </li>
                    </div>
                    <form class="flexsearch position-relative flex-grow-1 ms-2 me-2">
                        <div class="d-flex flex-row">
                            <input id="flexsearch" class="form-control" type="search" placeholder="Search" aria-label="Search" autocomplete="off">
                            <button id="hideFlexsearch" type="button" class="ms-2 btn btn-soft">
                                cancel
                            </button>
                        </div>
                        <div id="suggestions" class="shadow rounded-1 d-none"></div>
                    </form>
                </div>
            </div>
        
    
    
</div>
<div class="container-fluid">
                            <div class="layout-spacing">
                                
                                    <div class="d-md-flex justify-content-between align-items-center"><nav aria-label="breadcrumb" class="d-inline-block pb-2 mt-1 mt-sm-0">
    <ul id="breadcrumbs" class="breadcrumb bg-transparent mb-0" itemscope itemtype="https://schema.org/BreadcrumbList">
        
            
                <li class="breadcrumb-item text-capitalize active" aria-current="page" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                    <a itemprop="item" href="/docs/">
                        <i class="material-icons size-20 align-text-bottom" itemprop="name">Home</i>
                    </a>
                    <meta itemprop="position" content='1' />
                </li>
            
        
            <li class="breadcrumb-item text-capitalize active" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                <span itemprop="name">dbt test passing multi args</span>
                <meta itemprop="position" content='2' />
            </li>
        
    </ul>
</nav></div>
                                
                                <div class="row flex-xl-nowrap">
                                    
                                    <div class="docs-toc col-xl-3  visually-hidden  d-xl-block"><toc>
    <div class="fw-bold text-uppercase mb-2">On this page</div>
    <nav id="TableOfContents"></nav>
    </toc></div>
                                    
                                    
                                    <div class="docs-toc-mobile  visually-hidden  d-print-none d-xl-none">
                                        <button id="toc-dropdown-btn" class="btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" data-bs-offset="0,0" aria-expanded="false">
                                            Table of Contents
                                        </button>
<nav id="toc-mobile"></nav></div>
                                    <div class="docs-content col-12  mt-0">
                                        <div class="mb-0 d-flex">
                                            
                                            <h1 class="content-title mb-0">
                                                dbt test passing multi args
                                                
                                            </h1>
                                        </div>
                                        
                                        <div id="content" class="main-content" >
                                            
    
    <div data-prismjs-copy="" data-prismjs-copy-success="" data-prismjs-copy-error="">
        <p>Example of a dbt test in which multiple columns are passed to the test as an argument</p>
<p>The test itself checks if the set of columns are either all null or all not null (don&rsquo;t want a mix of null and not null)</p>
<p><strong>Test Code</strong></p>



  
  
  

  
  
  
  

  

  <div class="prism-codeblock ">
  <pre id="2355071" class="language-sql ">
  <code>-- tests/generic/test_all_or_none_populated.sql

{% test all_or_none_populated(model, column_name, columns) %}
  with validation as (select 	
		{{ columns | join(&#39;, &#39;) }},
		-- testing if all the columns in the set are null
        case when not ({{ columns | join(&#39; IS NULL AND &#39;) }} IS NULL) then 1 else 0 end as failed_all_null,
		-- testing if all the columns in the set are not null
        case when not ({{ columns | join(&#39; IS NOT NULL AND &#39;) }} IS NOT NULL) then 1 else 0 end as failed_all_not_null
	from {{ model }}
    )
    -- test fails if there are rows where both failed_all_null = 1 and failed_all_not_null = 1
    --		(ie. there&#39;s a mix of nulls and not nulls)
    select * from validation where failed_all_null = 1 and failed_all_not_null = 1
{% endtest %}</code>
  </pre>
  </div>
<p>Schema definition</p>



  
  
  

  
  
  
  

  

  <div class="prism-codeblock ">
  <pre id="31dc5dd" class="language-yaml ">
  <code># models/example/dbt_loan_application_summary.sql

version: 2

models:
  - name: dbt_loan_application_summary
    columns:
      - name: application_id
        data_tests:
          - all_or_none_populated:
              columns: [&#39;bank_name&#39;,&#39;bank_account_number&#39;,&#39;bank_account_type&#39;,&#39;bank_routing_number&#39;]</code>
  </pre>
  </div>

    </div>

    

    
                                        </div>
                                        <div><hr class="doc-hr">
<div id="doc-nav" class="d-print-none">

	<div class="row flex-xl-nowrap ">
	<div class="col-sm-6 pt-2 doc-next">
		<a href="/docs/chatgpt/db-table-columns-info/">
			<div class="card h-100 my-1">
				<div class="card-body py-2">
                    <p class="card-title fs-5 fw-semibold lh-base mb-0"><i class="material-icons align-middle">navigate_before</i> db table columns info</p>
					
				</div>
			</div>
		</a>
        </div>
	</div>
</div></div>
                                    </div>
                                </div>
                            </div>
                        </div>
<footer class="shadow py-3 d-print-none">
    <div class="container-fluid">
        <div class="row align-items-center">
            <div class="col">
                <div class="text-sm-start text-center mx-md-2">
                    <p class="mb-0">
                        
                        
                    </p>
                </div>
            </div>
        </div>
    </div>
</footer>
</main>
        </div>
    </div>

    
    
    <button onclick="topFunction()" id="back-to-top" aria-label="Back to Top Button" class="back-to-top fs-5"><svg width="24" height="24"><path d="M12,10.224l-6.3,6.3L4.32,15.152,12,7.472l7.68,7.68L18.3,16.528Z" style="fill:#fff"/></svg></button>
    
    

    
    




    
    
    






    <script src="/docs/js/bootstrap.js" defer></script>


    <script type="text/javascript" src="http://localhost:1313/docs/js/bundle.js" defer></script>
    

    
    <script type="module">
    var suggestions = document.getElementById('suggestions');
    var search = document.getElementById('flexsearch');

    const flexsearchContainer = document.getElementById('FlexSearchCollapse');

    const hideFlexsearchBtn = document.getElementById('hideFlexsearch');

    const configObject = { toggle: false }
    const flexsearchContainerCollapse = new Collapse(flexsearchContainer, configObject) 

    if (search !== null) {
        document.addEventListener('keydown', inputFocus);
        flexsearchContainer.addEventListener('shown.bs.collapse', function () {
            search.focus();
        });
        
        var topHeader = document.getElementById("top-header");
        document.addEventListener('click', function(elem) {
            if (!flexsearchContainer.contains(elem.target) && !topHeader.contains(elem.target))
                flexsearchContainerCollapse.hide();
        });
    }

    hideFlexsearchBtn.addEventListener('click', () =>{
        flexsearchContainerCollapse.hide()
    })

    function inputFocus(e) {
        if (e.ctrlKey && e.key === '/') {
            e.preventDefault();
            flexsearchContainerCollapse.toggle();
        }
        if (e.key === 'Escape' ) {
            search.blur();
            
            flexsearchContainerCollapse.hide();
        }
    };

    document.addEventListener('click', function(event) {

    var isClickInsideElement = suggestions.contains(event.target);

    if (!isClickInsideElement) {
        suggestions.classList.add('d-none');
    }

    });

    


    document.addEventListener('keydown',suggestionFocus);

    function suggestionFocus(e) {
    const suggestionsHidden = suggestions.classList.contains('d-none');
    if (suggestionsHidden) return;

    const focusableSuggestions= [...suggestions.querySelectorAll('a')];
    if (focusableSuggestions.length === 0) return;

    const index = focusableSuggestions.indexOf(document.activeElement);

    if (e.key === "ArrowUp") {
        e.preventDefault();
        const nextIndex = index > 0 ? index - 1 : 0;
        focusableSuggestions[nextIndex].focus();
    }
    else if (e.key === "ArrowDown") {
        e.preventDefault();
        const nextIndex= index + 1 < focusableSuggestions.length ? index + 1 : index;
        focusableSuggestions[nextIndex].focus();
    }

    }

    


    (function(){

    var index = new FlexSearch.Document({
        
        tokenize: "forward",
        minlength:  0 ,
        cache:  100 ,
        optimize:  true ,
        document: {
        id: 'id',
        store: [
            "href", "title", "description"
        ],
        index: ["title", "description", "content"]
        }
    });


    


    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    


    

    

    index.add(
            {
                id:  0 ,
                href: "\/docs\/braviant-glossary-page\/",
                title: "Company Glossary",
                description: "– ChatGPT – “Commands” link bv loan: paste loan related text string bv app status: paste a listing of application statuses bv application: paste application table related text string bv wiki page: paste my personal wiki page (this page) – 0-9 – link 3 Business Days select * from dw_reporting_meta.add_business_days(current_date,3) -- Adds 3 business days to a given date – A – link Accrued Interest Not Yet Paid DA: I have seen this definition: payoff - principal_balance + interest_accrued_today (all in loan_status_archive) ACH: Automated Clearing House ACH Daily Funding Report: dw_reporting_views.",
                content: "– ChatGPT – “Commands” link bv loan: paste loan related text string bv app status: paste a listing of application statuses bv application: paste application table related text string bv wiki page: paste my personal wiki page (this page) – 0-9 – link 3 Business Days select * from dw_reporting_meta.add_business_days(current_date,3) -- Adds 3 business days to a given date – A – link Accrued Interest Not Yet Paid DA: I have seen this definition: payoff - principal_balance + interest_accrued_today (all in loan_status_archive) ACH: Automated Clearing House ACH Daily Funding Report: dw_reporting_views.ach_daily_funding_report looks like this report/table feeds Looker dashboards ACH File Table: assume table that persist processed ACH file contents. Can join to this table to close in on loans that are officially originated/funded dw_reporting_bsf_ach.achfilerecord ACH Transactions ACH Credits: “Push” of funds from the Originator’s account at the ODFI to the Receiver’s account at the RDFI. A common ACH credit application is direct deposit of payroll. Originator initiates an Entry to push funds into a Receiver’s account Receiver’s account is credited Originator’s account is debited (this is considered the offset/settlement Entry) ACH Debits: ”Pull” of funds from the Receiver’s account at the RDFI to the Originator’s account at the ODFI. A common ACH debit application is payment of an insurance premium. Originator initiates an Entry to pull funds from a Receiver’s account Receiver’s account is debited Originator’s account is credited (this is considered the offset/settlement Entry) ACH Return File Table: assume ACH instructions that have failed with an ACH return code dw_reporting_bsf_ach.returnfilerecord ACH Settlement File: (Per Krithika) each record represents a NACHA file sent for the day (for a particular ACH transmission - Braviant has multiple transmissions per day for various reasons) Krithika: The process runs at 10:30 and 10:35 file_type = 1 is the sunup -\u003e ccb cash flows file_type = 2 is the bcs –\u003e ccb cash flows Acronyms: came across this archived wiki page for acronyms. Acronyms Advancements: dw_reporting_bsf_identity.loan_advancement_transaction Application: dw_reporting_views.fact_application: current state application “fact” table - will be replaced by dw_core.fact_application dw_core.fact_application: new version of fact_application and will reference various dimension tables dw_reporting_bsf_origination.application: BSF origination schema for application data. this should be data synced/refreshed from LoanPro dw_reporting_objects.application_entity: not sure what this schema is but another application data source includes application_status and application_sub_status new dw_core.fact_applicationtable assumptions and business rules: application_withdrawn will be 1 if the app is withdrawn during the app lifecycle and downstream if the app loan is withdrawn or not funded successfully Application Source: BSF listing: dw_reporting_bsf_common.application_source_type Leads Affiliates Refinance Longform Reapply Offerwall Application Status \u0026 Sub-Status see cacher page here (title: Useful DB Snippets) for sql and listing: https://snippets.cacher.io/snippet/a4e2c22c9b12888af25f Application Validation: dw_reporting_bsf_origination.application_validation: materialized view that holds errors thrown during the processing of the application Nic told me about this Not sure what processing we’re talking about. Need to get more details APR: Annual Percentage Rate dw_reporting_bsf_identity.loan.apr: I think this is one way to get the APR Asserted \u0026 Effective Bi-Temporal Columns Used in various tables that write multiple row (or row instances) over time IMPORTANT: some context from Tejas effective: provides a sense of history (when was this record in effect from a time perspective) asserted: provides a sense of if this record was valid (good) or not (bad) DA: so assume if I wanted a historical record of valid rows I would NOT filter out by effective but filter out by asserted This method to compare bi-temporal columns seems to be much more efficient: upper(l.asserted) = 'infinity' and upper(l.effective) = 'infinity' At any given time only 1 row should be valid From KG: if you want data as of end of day 12/11, it has to be ‘2023-12-12 05:00:00’::timestamptz \u003c@ l.asserted – B – link Bank Account Transactions: From Lara: you can check bank transactions in adhoc/finance schema in this table finance.accounting_bank_account_transactions re: Finance schema see also finance.fft_clean table: does fft = Finance Fact Transaction? Basepoint: assume this is Basepoint Capital. also assume Basepoint participates in Braviant loans batch jobs cron jobs? See Confluence jobs: https://balancecredit.atlassian.net/wiki/spaces/BSF/pages/779617231/Batch+Job+Processes BC: Balance Credit (Note**: SunUp Financial, LLC is a lending entity for BC lending products) BCS: assume BCS is short for B Credit Solutions B Credit Solutions, LLC: Braviant legal entity that buys back loans from CC Bank triggered by certain events (assume one event is a charge off) some notes: also see this confluence page B-Credit Solutions(this is us) is a Guarantee Company that will purchase the loan when it meets the Default Definition of the program(different concept as Delinquency) and becomes the Owner of the loan. When the B-Credit Solutions, the Guarantee Company becomes the owner of the loan, SunUp, the Sub-Servicer transfers the loan tape to SunUp, the Collections Company, who will conduct Collections for the Guarantee Company(B-Credit Solutions). The Servicer(TLS) and Sub-Servicer no longer have any obligations to the loan. Bi-Temporal Columns: see Asserted \u0026 Effective Bi-Temporal Columns BK: Bankruptcy NOTE: The Ops Team refunds (? Advancement | Overpayment) payments that were submitted after the official Bankruptcy date has been declared (where to do we store this date?) BSF: Braviant Service Framework – C – link C \u0026 D: Cease and Desist CCB: Capital Community Bank CDD \u0026 EDD: Customer Due Diligence and Enhanced Due Diligence part of the BSA (Bank Secrecy Act) CF: Custom Field (assume custom in LoanPro) CIP Customer Identification Program Charge Off: loans are charged off when they reach 60 days past due Different “Types”/Categories of Charge Offs Accounting Charge Off: sometimes referred as a Finance or GAAP charge off loan is considered charged off when it his 61 days past due and stays charged off even if days past due drops under 61 days from an Ops perspective, we still attempt to work/collect on the loan Ops Charge Off: loan is considered charged off from an operational perspective (ie. we cease to drive income on the loan) indicated by various Closed substatuses: Debt Sale, Discharged, Settlement (is this Debt Settlement?) Bank Charge Off: charged off from a CC Bank perspective. This occurs at a buyback transaction Can find this information in a multiple places: dw_reporting_views.fact_application: Fact Application table loan_num: the loan_id field loan_charge_off_date: the date the loan was deemed charged off (must be a process that triggers this) loan_charge_off_principal_amount: the principal amount charged off (only remaining principal amount is charged off) Gross Charge Off: assume this is the principal amount balance at the time of charge off Net Charge Off: assume this would include payments that happen to come in after the charge off date (e.g. customer continues to pay after that date) Loan Charge Off Dates dw_reporting_views.loan_charge_off_dates: view charge off date and charge off principal amount by loan id also see Purchase Date below Chorus Credit: assume old product line that has been or is being phased out NOTE: Chorus Credit loan data reside in these schemas: dw_reporting_chorus_lp dw_reporting_chorus_view Clearing: (general banking industry definition) Clearing is all of the steps involved in transferring funds ownership from one party to another except for the final step, which is settlement. web link Closed Date: assume loan closed date dw_reporting_lp.loan_settings_entity.closed_date Credit Transactions: credits applied in LoanPro during servicing (see: Loan Credit Transaction) Contract Date: assume origination date dw_reporting_lp.loan_setup_entity.contract_date this is the date on which interest starts accruing (see/as opposed to the Funding Date) assume this is equivalent to effective_date in other tables/contexts Cost Per Fund (CPF): What you pay to acquire a customer (funded customer?) For DM (Direct Mail): the cost to buy a prospective customer’s name/address and the cost to print and send the customer letter For Offer Wall Leads: pay a percentage of the loan’s funded principal For Ping Tree Leads: pay $X to purchase a customer lead CSO: Credit Service Organization a type of business that helps consumers improve their credit rating, obtain credit, and manage debt. These services can include: Credit Repair Services Debt Management Plans Credit Counseling Loan Brokering: Braviant’s main role(?) Assume CSO loans are TX loans with an original owner of Redpoint looks there are some TN Redpoint loans as well sql gist Identify CSO?: dw_reporting_bsf_uwp.loan_contract_calculation.installment_loan_type = CSO Business Model CSO loans have low interest rates… … but large fees (escrow fees in Braviant parlance, e.g. payment_e) assume fees are paid to the lender upfront AND then Bravian collects that payment over time as the “escrow component” of each installment payment Example CSO Loan loan_id: 658288 (not a refi loan) TIL: Amount Financed (goes to customer): 1,500.00 CSO Fee on Application: 1,053.45 (part of finance charge) Principal Amount: (amount to customer = 1,500.00) + (prepaid finance charge = CSO fee = 1,053.45) = 2,553.45 Schedule payments: charge_amount = 523.70; charge_p = (varies according to amortization); charge_i = (varies according to amortization); charge_e = CSO per payment fee = 210.69 Current Owner database column that I assume displays the current owner of a loan through the loan lifecycle (e.g. B Credit Solutions, LLC , CC Bank Direct, Landmark Strategy Group, LLC, Redpoint, SPV3, SunUp Financial) dw_reporting_bsf_identity.loan.current_owner Custom Fields: or Loan Custom Fields. Looks like custom field values set in LoanPro by Agents (or processes). DA: looks like a shitload of fields including multiple dates: e.g. debt_sale_date Table: dw_reporting_views.loan_settings_custom_fields Customer Entity: dw_reporting_lp.customer_entity customer records see other entity tables: dw_reporting_lp.address_entity Customer Type: DA: this seems to be generated value (comprised of a couple source data elements) that describe the different flavors of customers. This is from Jeff G. and how he uses it. Some may be added as we incorporate new types of sources New - DM New - Expired DM New - Other New - Lead Offerwall - Lead New - Refinance Previous - Refinance Previous – D – link Data Dictionary: DA: in search of a/a definitive Braviant data dictionary Looker Data Dictionary pages: Looker link looks like Looker stands up Data Dictionary like pages. Could be very helpful DataOpsSupport: this is a Jira label to apply to DMS tickets to indicate an ops like request in the DMS world Days Past Due: dw_reporting_lp.loan_status_archive.days_past_due Debt Sale Date: date where SunUp has sold delinquent/bad loans to third parties can be seen in: dw_reporting_views.loan_settings_custom_fields.debt_sale_date looks like both Bank and Non Bank loans can incur a Debt Sale (balancecredit, ccbankinstallment, ccbankdirect, balanceloc) Delinquent: assume when a loan is days_past_due \u003e 0, it is delinquent (e.g. dw_reporting_bsf_identity.loan.days_past_due) DFC: Dynamic Flow Controller DL: Decision Logic From the Decision Logic website: “Our service provides the ability to verify a borrower’s identity, bank account number and balance in real-time. It also provides access to up to 365-days of borrowers’ bank account transaction history with a layer of advanced analytics that lead the industry. This automated real-time process empowers you to make fast and accurate decisions critical to the success of your business.” DLH: assume Data Lake House DM: Direct Mail NOTE: live_fl is a flag that indicates that a campaign is “live” and in effect DMC: Debt Management Company Document Data Table: looks like a table that holds attributes related to customer (borrower) documents handled, reviewed, or acknowledged during the loan life cycle Examples: ACHAgreement Consent To Electronic Communication Patriot Act dw_reporting_bsf_core.document_data: document data including json dw_reporting_bsf_common.document_type: lookup table relating document_type_id to an english name join to dw_reporting_bsf_origination.document (?) Due Date: Dan: re: payment due date assume this is the day after the scheduled period end select entity_id, entity_type, max(period_end) as last_period_end, max(period_end) + 1 as schd_loan_date from dw_reporting_lp.loan_active_time_tx group by entity_id, entity_type limit 1000 DPD: Days Past Due Draw: assume this refers to a draw on a Line of Credit (LOC) account/product – E – link EBN: assume this refers to Electronic Bankruptcy Notice website maintained by US federal courts. See website. May be important in the CCB Bank Direct project EBS: Electronic Bank Statement CDD \u0026 EDD: Customer Due Diligence and Enhanced Due Diligence part of the BSA (Bank Secrecy Act) Effective \u0026 Asserted Bi-Temporal Columns Used in various tables that write multiple row (or row instances) over time At any given time only 1 row should be valid From KG: if you want data as of end of day 12/11, it has to be ‘2023-12-12 05:00:00’::timestamptz \u003c@ l.asserted EFX: Assume it means Equifax (consumer credit reporting agency) EV: Enhanced Verification customer flow where the user has go through enhanced verification to have an agent (?) verify required information (pay stubs? bank acount? not sure here) see table: dw_reporting_bsf_origination.ev_result see common lookup tables for context dw_reporting_bsf_common.ev_change_reason dw_reporting_bsf_common.ev_resolution_method dw_reporting_bsf_common.ev_status dw_reporting_bsf_common.ev_type EXP: Experian (credit bureau) – F – link Fact Application Table: special “fact” table storing data element for applications. Heavily used for reporting and Looker views (?) dw_reporting_views.fact_application: main table NOTE: the loan_num is the loan id field dw_reporting_views.fact_application_new: assume this is a new table that has not yet been moved into production Fact Installment Table: special “fact” table storing installment and installment payment data for a loan. Assume like other fact tables, used for downstream reporting dw_reporting_views.fact_installment: a materialized view From a code comment: The purpose of fact_installment is to provide a payment-by-payment summary of each loan, with payment amounts, initial and current default performance, and due dates Wiki page with some details: wiki page New Fact Installment Table: new version of the fact_installment table: dw_core.fact_installment built out as a part of dev project in late 2022 NOTE: this table is being populated (ETL/data propagation) Fair Value: (general accouting defintion): the practice of measuring your business’s liabilities and assets at their current market value Finance Aging Table: Finance schema table that contains loan “aging” data (payment perspective) finance.aging: don’t have access to this schema as yet First Payment Date: assume loan closed date dw_reporting_lp.loan_setup_entity.first_payment_date First Payment Default: assume date in which a first payment default has been determined dw_reporting_bsf_identity.prepped_loan_additional_info_data.first_payment_default (materialized view) Function vs. Procedure: in Postgres the primary difference is that a function returns a result and a procedure does not Funding Date: assume this is the date that a loan is considered funded from an origination perspective this is 1 day before the originated loan’s contract (effective) date not sure the Funding Date can be on a weekend day FT: Factor Trust (now owned by TransUnion), credit bureau from which Braviant gets data feeds – G – link get_business_date: database function that returns the next business day (so takes into account weekends and holidays) get_business_date(current_date) would return today get_business_date('2023-07-04') would return ‘2023-07-05’ so the next applicable non-holiday – I – link IL PS: Illinois Paystub Interest Rate or contract rate - NOT APR (Annual Percentage Rate) Note APR includes other costs, interest rate is the strict cost to borrow money Grant fetched the contract rate/interest rate from this table (DA: not familiar with this table) dw_reporting_bsf_uwp.loan_contract_calculation.actual_interest_rate From an example TIL document (loan_id = 630195) Interest will accrue on a daily basis on the unpaid Principal Amount. Beginning on the Loan Effective Date set forth above, you begin calculating interest based on the number of days my loan has been outstanding, assuming a 365 day year, until I pay off the Loan in full. My daily interest rate is equal to my Contract Rate (listed at the top of this page) divided by 365. Daily Accrued Interest = principal_balance * contract_rate (not APR) / 365 days – K – link KO: Knockout – L – link Leads: “Leads Schema”: dw_reporting_bsf_leads Lead table: dw_reporting_bsf_leads.lead l dw_reporting_bsf_leads.lead_provider_lookup: table used to look up leads providers link an application to a lead source type (ie. the overall application source type): dw_reporting_bsf_origination.application.application_source_type_id application source type enumerated values view: dw_reporting_bsf_common.application_source_type link application_source_type_id to application_source_type a code change that looks like an example of linking applications to leads: github code PingTree: online leads platform; seems like a marketplace where you purchase/bid for customer leads assume we are refocusing on this as a source (mid 2024) Ramon to start driving this currently PingTree is the only leads type channel (assume this will change/grow) Nic: They would come in with an origination.application application_source_type_id = 2 LMS: Loan Management System Loan: dw_reporting_bsf_identity.loan some important columns: loan_status loan_sustatus loan_effective_date loan_payoff_date Loan Active Time TX Table dw_reporting_lp.loan_active_time_tx: looks like the set of both forecasted and scheduled payments for a loan entity_id: assume that is the loan_id field type: forecastedPayment or scheduledPayment e.g. query to fetch scheduled payments select * from dw_reporting_lp.loan_active_time_tx latx where latx.entity_type = 'Entity.Loan' and latx.type = 'scheduledPayment' limit 100 Loan Amount assume this means the initial loan amount in the customer’s contract (ie. original loan amount) dw_reporting_lp.loan_setup_entity.loan_amount Loan Credit Transaction assume table lists out credit transactions for a particular loan dw_reporting_bsf_identity.loan_credit_transaction (sql gist) also see: dw_reporting_lp.loan_credit_entity looks like the title is a freeform text field that someone (an agent? automated process) fills out categories of credit transactions from table: dw_reporting_lp.credit_category_entity: Balance Transfer Discharge Fee Waiver Legal Settlement Other Payoff Adjustment Processing Error Adjustment Promotions Rescission Adjustment Settlement Adjustment System Adjustment see example SQL to sum up credits for a loan for a particular date gist see another example SQL to find credits associated for a loan gist see list of credit categories gist Loan ID dw_reporting_lp.loan_setup_entity.loan_id LoanPro: the loan servicing web application used by Braviant (mostly Ops and Agents but others as well) IMPORTANT: handy report: a loan’s HISTORICAL ARCHIVE looks like loan_status_archive in web page format for a loan… use to understand loan changes over time navigate to.. search on a loan (e.g. 594200) click on Reports click on Historical Archive Loan Status Entity: looks like a lookup table (enumerated types) describing loan statuses (those are not soft deleted) Pending App Closed Approved Active Closed Loan Status \u0026 Sub Status: look up tables for loan status and substatus dw_reporting_lp.loan_sub_status_entity 4\tActive 2\tApp Closed 3\tApproved 5\tClosed 1\tPending dw_reporting_lp.loan_status_entity Loan Status Archive (table) NOTE: KG SAYS THAT CLOSED LOANS FALL OF THIS TABLE AFTER A FEW DAYS. KEEP THIS MIND. MAY BE BETTTER TO USE dw_reporting_bsf_identity.loan for some queries dw_reporting_lp.loan_status_archive “lsa” For SC state reporting, dw_reporting_lp.loan_status_archive.payoff as of a date to include the payments applied up to and including that date looks like a daily snapshot of key data by loan Loan Term DA: determine the loan term in days (dw_reporting_lp.loan_setup_entity.orig_final_payment_date - dw_reporting_lp.loan_setup_entity.contract_date) as loan_term_in_days Loan Transaction Tables dw_reporting_lp.loan_tx: assume this holds transactions for a loan (and probably other “objects” including refunds [Advancements for overpayments]). use entity_id to search for the loan_id value NOTE: associate dw_reporting_lp.loan_tx tx to dw_reporting_lp.payment_entity pe on pe.id = tx.payment_id Loan Transaction (Loan Tran / Settlement) Tables From Grant: Holds all of the prior days transactions (Payments, credits, buybacks, advancements, fundings, funding returns, payment returns, system adjustments, credit returns, adv returns, rescissions, buyback payment returns, and accrued interest) Github Code assume these are the Loan Tran tables dw_reporting_views.cc_bank_loantran_audit: main Loan Tran table? dw_reporting_views.cc_bank_loantran_daily: looks like the last daily snapshot of cc_bank_loantran_audit (so it just has one day’s worth of data) LOC: Line of Credit Looker Developer Mode Get into a particular branch Log into Looker Toggle into Developer Mode (lower left hand corner) Click the Develop menu item Click on the enterprise_dw project Click on the default branch (upper left hand corner) Click on the Pull Remote Changes button (upper right hand corner) (I think you now just use Looker normally and should be using the specified branch code?) Lock Box: from Investopedia Lockbox banking is a service provided by banks to companies for the receipt of payment from customers. Under the service, the payments made by customers are directed to a special post office box instead of going to the company. The bank goes to the box, retrieves the payments, processes them and deposits the funds directly into the company’s bank account. LP: LoanPro – M – link Maturity Date: contractual (TIL?) maturity date of the loan: dw_reporting_lp.loan_setup_entity.orig_final_payment_date MOB Month on Book: seems like a bucketing or cohort categorization driven by the months that a loan is on the books starting with Month 0 if a loan originates on July 3 and it is now Oct 31 (end ot the month of October) then the loan is categorized as MOB 3 Jul: MOB 0 Aug: MOB 1 Sep: MOB 2 Oct: MOB 3 – N – link NCP: NCP Finance, company currently used a middle man between SunUp Financial and CC Bank. That relationship will end and SunUp will eventually act direct to CC Bank NCP Table: table that houses the “GL” like records produced by the NCP/TLS CC Bank settlement process used for ccbankinstallment product loans dw_reporting_views.bank_ncp_settlement ccbankdirect loans have the analogous GL records stored here: dw_reporting_views.ccbd_transaction_history_audit NOA: Notice of Assignment: mandatory notification to the customer that their loan has been sold Net NPV: NPV - CFP (net present value minus the cost to fund) NPV: Net Present Value for a loan – O – link ODFI: Originating Depository Financial Institution In ACH payment processing (see informative web page) agrees with Nacha or the Federal Reserve to transmit ACH transactions on behalf of an originator bank In banking terms, it’s the entity that helps initiate the original transaction. owner: dw_reporting_views.loan_settings_custom_fields.owner assume the entity that currently owns the loan see Loan Custom Fields Overpayment: snippet to calculate overpayments by loan and loan_tran transaction date gist – P – link Paid Off Date: or Payoff Date. Date in which the loan is paid off. some tables where this exists (DA: others exist I’m sure) dw_reporting_bsf_identity.loan.loan_payoff_date dw_core.fact_installment.loan_paid_off_date Participation: process by which entities own parts of a Bravian loan and (I assume) receive part of the customer’s principal and interest payment stream Example: CC Bank originates Bank loans and then on the third business day sells 95% of the loan back to a Braviant entity and keeps a 5% participation. future events (e.g. chargeoff) can adjust that participation Tejas can provide help from a tech perspective on Pledging Old Participation Product Requirements: may provide some helpful context LucidChart - Context on Participation See how participation changes participation event: configuration table Participation Business Rules: observations on potential business rules(?) Pending Rescission Loans: if a loan is Pending Rescission on the third business day, a loan participation event will not occur Participation “Effect”: participation essentially takes effect at the end of the participation date What does this mean? Means that payments applied on the participation date should be allocated only to CCB (who is the sole owner prior to participation) Relevant EDW tables (NOTE: assume the operating tables are in BOSS) dw_reporting_boss_core.participating_entity: list of business entities that participate in loans (lookup table?) B Credit Solutions, LLC|(id = 3) B Credit Solutions - SPV1|(id = 4) CC Bank|(id = 1) Debt Management Partners, LLC|(id = 5) Landmark Strategy Group, LLC|(id = 6) National Debt Holdings, LLC|(id = 8) NCP|(id = 2) Peritus Portfolio Services LLC|(id = 7) dw_reporting_boss_participation.participation_allocation_event_type: enumerated tables describing events that drive allocations Origination|(id = 1) Participation Transfer: CCB -\u003e NCP|(id = 2) Participation Transfer: NCP -\u003e BCS|(id = 3) Buyback Purchase|(id = 4) Participation Pledge|(id = 5) Debt Sale|(id = 6) Participation Unpledge|(id = 7) Debt Sale Buyback|(id = 8) dw_reporting_boss_participation.participation_allocation: assume table that describes the current participation allocation of a particular loan (at a particular point in time) this is a bitemporal table so some allocation records are in effect and some are inactive SQL to fetch the the participation allocation for a loan_id at a particular date select * from dw_reporting_boss_participation.participation_allocation where loan_pro_loan_id = 612677 and '2023-06-07'::timestamptz \u003c@ asserted and '2023-06-07'::timestamptz \u003c@ effective dw_reporting_boss_participation.participation_allocation_transition: looks like this table describes the transition in participation for a given allocation event dw_reporting_boss_participation.participation_transaction: describes a participation transaction Payment Date: various payment dates dw_reporting_bsf_identity.loan.last_payment_apply_date dw_reporting_bsf_identity.loan.next_payment_due_date payment_e: column multiple tables; part of a payment that is considered part of an escrow payment (?) in table: dw_reporting_lp.payment_entity Payment Frequency dw_reporting_bsf_common.payment_frequency: enumerated list of payment frequency types (e.g. Bi-weekly) also see: dw_reporting_lp.loan_setup_entity.payment_frequency Payment Method dw_reporting_bsf_origination.application.payment_method_id: assume this table is where I should find the payment_method associated with a particular loan (loan’s application) dw_reporting_bsf_common.payment_method: listing of payment methods ACH (payment_method_id = 1) RCC (payment_method_id = 2) DirectPay (payment_method_id = 3) NOTE: Grant says the table above is for something else. The ids he uses is: ACH (payment_method_id = 4) Debit (payment_method_id = 3) Check (payment_method_id = 2) (Loan) Payment Schedule: dw_reporting_views.loan_payment_schedule: table that appears (?) to hold the formal schedule of payments driven by a loan’s amortization schedule is used when refreshing dw_reporting_views.fact_installment Payment Transaction dw_reporting_bsf_identity.payment_transaction: payment transaction table? See example SQL to query successful transaction gist Payment - Unsuccessful Transaction: a type of transaction that is tagged as ACH in LoaPro but for some reason do not show up in the ACH file I think this occurs for events like a bad routing number was used Grant: “When they occur, ops gets notified by this looker report” Grant: “the amount of non-ach payments dont apply to the balance of the loan. so when it gets reversed thats why your balance becomes corrected again” NOTE: this table will contain deleted payment transactions. for these cases: payment_transaction_id is null PBR: Product Backlog Review - recurring meeting that Nic has to review backlog epics(?). Not sure exactly what we do in this meeting Per Diem Daily interest accrual dw_reporting_lp.loan_status_archive.perdiem dw_reporting_bsf_origination.application.product Perform: Postgres command, same as select but perform throws away the result looks like perform can trigger a function or procedure (and thow away the result if applicable?) PingTree: (also see Leads) online leads platform; seems like a marketplace where you purchase/bid for customer leads Pledging: process by which a loan allocation (how much?) is transferred from B Credit Solutions (BCS) to another Braviant entity (ie. BCS - SPV1) NOTE: looks like pledging is only done (given comment above and a db query of dw_reporting_boss_pledging.pledged_loans) to Bank loans (ccbankdirect, ccbankinstallment) - IS THIS ACCURATE? Tejas can provide help from a tech perspective on Pledging Pledging functionality is in the BOSS world and db and that data gets ETL’ed/sync’ed to EDW (see dw_reporting_boss_pledging schema) Tables that describe the pledging activity dw_reporting_boss_pledging.pledged_loans: lists out pledged loans see PTOB-520 for an example of code leveraging pledging data Eligibility at a high level the process to determin what loans are eligible to be pledged (?) Lara’s SQL to determine loan eligibility for SPV3: Cacher link PM Prior Month: just saw this in a deliverable and didn’t know what it was it may not be an official acronym LoanPro Portfolio ID: unique identifier used upstream in LoanPro dw_reporting_lp.loan__portfolio: looks like mapping of loan_id to portfolio_id select distinct portfolio_id from dw_reporting_lp.loan__portfolio order by portfolio_id desc where deleted = 0 Prepayment: assume that means the customer paying off all or part of the loan prior to the scheduled payment date Procedure vs. Function: in Postgres the primary difference is that a function returns a result and a procedure does not Product dw_reporting_bsf_origination.application.product these are the current “products”; there will be a new one when NCP is removed from the Braviant operating relationship balancecredit balanceloc ccbankinstallment choruscredit dw_reporting_bsf_common.product: enumerated list of product types PTI: Payment To Income Purchase Date: purchase_date: date that a loan was bought back (buy back / buyback) from the bank can be found in dw_reporting_bsf_identity.loan_additional_info.purchase_date dw_reporting_bsf_identity.loan_additional_info lai – R – link RBPN: Risk Based Pricing Notice: maybe some background link RCC: Remotely Created Check REFI: Refinance Refinance Offers See materialized view dw_reporting_views.refinance_offers for refinance offers (?) assume base_loan_id is the loan being refinanced assume refi_loan_id is the new refinanced loan ? assume you need to check out the refinanced loan to make sure it has a status of Active or Closed (make sure it was funded) Refinancing / Refis: my crude take on what happens Check out the example in dw_reporting_lp.loan_tx (Loan Transaction table) Refinanced Loan: 568975 New Loan: 616930 Basic Process 568975’s outstanding balance ($1,119.75) is “paid off” the paid off balance ($1,119.75) is applied to the new loan 616930 the new loan is funded ($1,280.25) at origination time see: select * from dw_reporting_views.cc_bank_loantran_audit where loan_id = 616930 for a loan with a initial balance of $2,400 = $1,119.75 + $1,280.25 DA (?): the components of a refi loan balance: Total Loan Amount = $2,400 Base Loan Payoff = $1,119.75 Cash to Customer = $1,280.25 Check if a Loan is a Refinance DA: a way (probable one of multiple ways) to determine if a loan is a refi / refinance check the if the application source type id = 4 case when a.application_source_type_id = 4 then 'Yes' else 'No' end as refi_flag Refund: currently refunds are cash payments made via papercheck (processed through a service called Smart Payables[?]) Assume refunds are Advancements in the LoanPro world one place to query: finance.fft_clean fft where transaction_type = Advancement Refund \u0026 Reimbursement Tracker: a Google Sheet that tracks refunds and reimbursements processed by the Ops Team Google Sheet Link Sounds like this was a processed partially owned by Accounting but now owned by Ops start to finish Reverse Status Archive dw_reporting_lp.loan_reverse_status_archive a status of a loan’s payments that goes back in time and represents payment reversals to apply to the actual due date (why? beacause there is a lag of ~3 days to get notified of a reversal, this db table goes back an applies reversal as if the notification was immediate) Roll Rate From Investopedia: The roll rate is the percentage of credit card cardholders that roll from one category of delinquency to the next. For instance, you can measure the percentage of cardholders who roll from 60-days overdue to 90-days overdue. RTC | Right to Cure Right to Cure notice. Notice to a customer they are in default or delinquency and they have a right to cure the default Assume this notice is triggered by certain events and has to adhere to federal/state regulations – S – link Sales Finance Contract (SFC) from ChatGPT. DA: assume this is not part of Braviant’s current business In the consumer installment loan industry, a “sales finance contract” (SFC) refers to a legal agreement between a borrower (often a consumer) and a lender, typically used in the context of financing the purchase of specific goods or services. Scheduled Payments: see Loan Active Time TX Table SCRA - The Servicemembers Civil Relief Act drives loan servicing treatment and notifications *SDN: Specially Designated Persons \u0026 Blocked Persons list (SDN List) Settlement: (general banking industry definition) Settlement involves the finalization of a payment, so that a new party takes possession of transferred funds web link Daily Settlement Total: NOTE: some of these values may be (-) in sign in the loan_tran table NOTE see Grant’s code here Add In: Scenarios: Payment Payment Return Refund Credit Credit Return System Adjustment Agent Error Overpayment Advancement Return Check Return - Refer to Maker Advancement Events: Payment - Unsuccessful Transaction Payment Return - Unsuccessful Transaction Subtract Out: Scenarios: Funding Return Rescission Origination Transaction Code: WO SSN NOTE: ssn_7 is the last 7 characters of the SSN value Suspense Account: general business definition a suspense account is a bookkeeping account where funds are categorized temporarily for various reasons e.g. funds are received for an ambiguous reason and the company needs more clarification to accurately categorize funds e.g. borrower makes a partial payment and the company temporarily holds the payment until the balance of the full payment is received see: Investopedia article – T – link TBS: Traditional Bank Statement TLS: TLS (Part of NCP) is a Servicer for the CC Bank for its program. It coordinates and maintains Program info in its Loan Info System(LIS) Assume TLS will go away as the Bank Direct program ramps up (just applicable to loans orginated prior to Bank Direct) Transaction Codes (tran_codes): code describing different transaction types ADV: advance ADV1: advance (not sure what’s the difference) CRE: credit PART: participation PAY: payment RADV: advance return REFI: refinance VADV: voided advance (example: ACH exception due to an incorrect bank routing number) VPAY: voided payment WO: write off (example: bankruptcy) Trial Balance Tables A trial balance is a bookkeeping worksheet in which the balances of all ledgers are compiled into debit and credit account column totals that are equal dw_reporting_views.cc_bank_trialbalance_dpd_audit dw_reporting_views.cc_bank_trialbalance_dpd_daily Dan: I think the trial balance “tallies” up these columns: principal_balance days_past_due accrued_interest From Grant (current settlement process) Should have a record for each ‘open’ loan, showing its running balance. Aka what the outstanding balance is for each loan through ccb. Once they are paid off or otherwise they should drop off the report. Key column is bsf_loan.remaining_loan_balance (same as lp.loan_status_archive.principal_balance for a date) TU: Transunion – U – link UPL: Unsecured Personal Loans Seems like a FinTech acronym UW: Underwriting – V – link WOAC: assume (?) Write Off Accrued "
            }
        );
    index.add(
            {
                id:  1 ,
                href: "\/docs\/chatgpt\/bv_application\/",
                title: "bv application",
                description: " dw_reporting_bsf_origination.application app and upper(app.asserted) = 'infinity' and upper(app.effective) = 'infinity' ",
                content: " dw_reporting_bsf_origination.application app and upper(app.asserted) = 'infinity' and upper(app.effective) = 'infinity' "
            }
        );
    index.add(
            {
                id:  2 ,
                href: "\/docs\/chatgpt\/bv_app_status\/",
                title: "bv app status",
                description: " APPLICATION STATUS APPLICATION SUB STATUS Not Eligible No DM Match Not Eligible No Precheck Match Pre Application Short Form Open Applied Open Basic Eligibility Open Contract Signed Open DM Check Open Documents Signed Open EV1 Data Needed Open EV1 Data Needed Funding Unsuccessful Open EV2 Data Needed Open Iovation Open Manual - Ready to Fund Open Manual Review Open Manual Review EV2 Incomplete Open New Open Offer Accepted Open Offer Displayed Open Offer Presented Open Offer Selected Open Pending Bank Information Open Pending Verification Open Precheck Open Ready to Fund Open Underwriting Approved Open Underwriting - Open Withdrawn Withdrawn Declined Basic Eligibility Declined EV1 Declined EV2 Declined Manual Decline Declined Underwriting Bureau Data Declined Underwriting No Bureau Data Approved Funded Approved Funding Unsuccessful Approved Pending LoanPro Approved Ready To Fund Closed Declined Closed Expired Closed Funded Closed Funding Unsuccessful Closed In LoanPro Closed Legacy BC Migrated Closed Other Closed Superseded Closed Withdrawn Expired Expired EV1 Expired Expired EV2 Expired Offer Presented Expired Unsigned Loan Docs ",
                content: " APPLICATION STATUS APPLICATION SUB STATUS Not Eligible No DM Match Not Eligible No Precheck Match Pre Application Short Form Open Applied Open Basic Eligibility Open Contract Signed Open DM Check Open Documents Signed Open EV1 Data Needed Open EV1 Data Needed Funding Unsuccessful Open EV2 Data Needed Open Iovation Open Manual - Ready to Fund Open Manual Review Open Manual Review EV2 Incomplete Open New Open Offer Accepted Open Offer Displayed Open Offer Presented Open Offer Selected Open Pending Bank Information Open Pending Verification Open Precheck Open Ready to Fund Open Underwriting Approved Open Underwriting - Open Withdrawn Withdrawn Declined Basic Eligibility Declined EV1 Declined EV2 Declined Manual Decline Declined Underwriting Bureau Data Declined Underwriting No Bureau Data Approved Funded Approved Funding Unsuccessful Approved Pending LoanPro Approved Ready To Fund Closed Declined Closed Expired Closed Funded Closed Funding Unsuccessful Closed In LoanPro Closed Legacy BC Migrated Closed Other Closed Superseded Closed Withdrawn Expired Expired EV1 Expired Expired EV2 Expired Offer Presented Expired Unsigned Loan Docs "
            }
        );
    index.add(
            {
                id:  3 ,
                href: "\/docs\/chatgpt\/bv_app_id_status\/",
                title: "bv app_id status",
                description: "Description linkFetch the application status and substatus for a given application_id\nselect app.application_id, aps.application_status, sst.application_sub_status, l.loan_pro_loan_id from dw_reporting_bsf_origination.application app left join dw_reporting_bsf_common.application_sub_status sst on app.application_sub_status_id = sst.application_sub_status_id left join dw_reporting_bsf_common.application_status aps on sst.application_status_id = aps.application_status_id left join dw_reporting_bsf_identity.loan l on l.application_id = app.application_id and upper(l.asserted) = 'infinity' and upper(l.effective) = 'infinity' where upper(app.asserted) = 'infinity' and upper(app.effective) = 'infinity' and app.application_id in (2015439) ",
                content: "Description linkFetch the application status and substatus for a given application_id\nselect app.application_id, aps.application_status, sst.application_sub_status, l.loan_pro_loan_id from dw_reporting_bsf_origination.application app left join dw_reporting_bsf_common.application_sub_status sst on app.application_sub_status_id = sst.application_sub_status_id left join dw_reporting_bsf_common.application_status aps on sst.application_status_id = aps.application_status_id left join dw_reporting_bsf_identity.loan l on l.application_id = app.application_id and upper(l.asserted) = 'infinity' and upper(l.effective) = 'infinity' where upper(app.asserted) = 'infinity' and upper(app.effective) = 'infinity' and app.application_id in (2015439) "
            }
        );
    index.add(
            {
                id:  4 ,
                href: "\/docs\/chatgpt\/bv_loan\/",
                title: "bv loan",
                description: " dw_reporting_bsf_identity.loan l where upper(l.asserted) = 'infinity' and upper(l.effective) = 'infinity' ",
                content: " dw_reporting_bsf_identity.loan l where upper(l.asserted) = 'infinity' and upper(l.effective) = 'infinity' "
            }
        );
    index.add(
            {
                id:  5 ,
                href: "\/docs\/chatgpt\/bv_settlement\/",
                title: "bv settlement",
                description: "Common queries to investigate CCBD Settlement variances\n-- Fetch the Loan Level Variances for yesterday (report_date = current_date) select * from dw_reporting_views.ccbd_loan_level_variances_audit lvl where lvl.report_date = current_date -- Fetch the transactions for a specific loan_id select * from dw_reporting_views.ccbd_transactions_audit cta where cta.loan_id = 670749 ",
                content: "Common queries to investigate CCBD Settlement variances\n-- Fetch the Loan Level Variances for yesterday (report_date = current_date) select * from dw_reporting_views.ccbd_loan_level_variances_audit lvl where lvl.report_date = current_date -- Fetch the transactions for a specific loan_id select * from dw_reporting_views.ccbd_transactions_audit cta where cta.loan_id = 670749 "
            }
        );
    index.add(
            {
                id:  6 ,
                href: "\/docs\/chatgpt\/bv_app_ev_states\/",
                title: "bv app ev states",
                description: "Description linkSQL to display the verification states for a specific application_id\nselect evr.application_id as application_id, evt.ev_type_name as type_name, evst.ev_status_name, lower(evr.effective) as lower_effective, evr.effective, evr.asserted, aps.application_status, sst.application_sub_status from dw_reporting_bsf_origination.ev_result evr join dw_reporting_bsf_common.ev_type evt on evr.ev_type_id = evt.ev_type_id join dw_reporting_bsf_common.ev_status evst on evr.ev_status_id = evst.ev_status_id join dw_reporting_bsf_origination.application app on app.application_id = evr.application_id and upper(app.asserted) = 'infinity' and upper(app.effective) = 'infinity' left join dw_reporting_bsf_common.application_sub_status sst on app.application_sub_status_id = sst.application_sub_status_id left join dw_reporting_bsf_common.application_status aps on sst.",
                content: "Description linkSQL to display the verification states for a specific application_id\nselect evr.application_id as application_id, evt.ev_type_name as type_name, evst.ev_status_name, lower(evr.effective) as lower_effective, evr.effective, evr.asserted, aps.application_status, sst.application_sub_status from dw_reporting_bsf_origination.ev_result evr join dw_reporting_bsf_common.ev_type evt on evr.ev_type_id = evt.ev_type_id join dw_reporting_bsf_common.ev_status evst on evr.ev_status_id = evst.ev_status_id join dw_reporting_bsf_origination.application app on app.application_id = evr.application_id and upper(app.asserted) = 'infinity' and upper(app.effective) = 'infinity' left join dw_reporting_bsf_common.application_sub_status sst on app.application_sub_status_id = sst.application_sub_status_id left join dw_reporting_bsf_common.application_status aps on sst.application_status_id = aps.application_status_id where evr.application_id in (2030958) and upper(evr.asserted) = 'infinity' -- and evt.ev_type_name = 'eSign' order by evr.application_id, lower(evr.effective) asc "
            }
        );
    index.add(
            {
                id:  7 ,
                href: "\/docs\/chatgpt\/bv_loan_statuses\/",
                title: "bv loan statuses",
                description: "Description linkList of loan statuses and substatuses\nGeneral Lifecycle Order link LOAN STATUS LOAN SUBSTATUS App Closed Application Expired App Closed Customer Withdrawn App Closed Denied App Closed Funding Unsuccessful App Closed Other Approved Ready to Fund Active Active Active SCRA Active Bankruptcy Active Called Due Active Cease and Desist Active Complaint Active Debt Management Active Deceased Notification Active ID Theft Notification Active Legal Active Pending Payoff Active Pending Refinance Active Pending Rescind Charged Off Bad Epic Loan Charged Off Paid Off Bad Epic Loan Closed Rescind Closed Refinanced Closed Early Payoff Closed Full Term Paid Closed Paid Off Closed Debt Sale Closed Deceased Closed Discharged Closed ID Theft Closed Settlement Denied Inactive Epic Application Paid Off Loan Bad Epic Loan Paid Off Loan Inactive Epic Loan Returned Item Active Epic Loan Returned Item Bad Epic Loan Returned Item Paid Off Bad Epic Loan Returned Item Paid Off Inactive Epic Loan Settlement Paid Off Bad Epic Loan Voided New Loan Inactive Epic Application Withdrawn Application Inactive Epic Application Alphabetical Order link LOAN STATUS LOAN SUBSTATUS Active Active Active Bankruptcy Active Called Due Active Cease and Desist Active Complaint Active Debt Management Active Deceased Notification Active ID Theft Notification Active Legal Active Pending Payoff Active Pending Refinance Active Pending Rescind Active SCRA App Closed Application Expired App Closed Customer Withdrawn App Closed Denied App Closed Funding Unsuccessful App Closed Other Approved Ready to Fund Charged Off Bad Epic Loan Charged Off Paid Off Bad Epic Loan Closed Debt Sale Closed Deceased Closed Discharged Closed Early Payoff Closed Full Term Paid Closed ID Theft Closed Paid Off Closed Refinanced Closed Rescind Closed Settlement Denied Inactive Epic Application Paid Off Loan Bad Epic Loan Paid Off Loan Inactive Epic Loan Returned Item Active Epic Loan Returned Item Bad Epic Loan Returned Item Paid Off Bad Epic Loan Returned Item Paid Off Inactive Epic Loan Settlement Paid Off Bad Epic Loan Voided New Loan Inactive Epic Application Withdrawn Application Inactive Epic Application ",
                content: "Description linkList of loan statuses and substatuses\nGeneral Lifecycle Order link LOAN STATUS LOAN SUBSTATUS App Closed Application Expired App Closed Customer Withdrawn App Closed Denied App Closed Funding Unsuccessful App Closed Other Approved Ready to Fund Active Active Active SCRA Active Bankruptcy Active Called Due Active Cease and Desist Active Complaint Active Debt Management Active Deceased Notification Active ID Theft Notification Active Legal Active Pending Payoff Active Pending Refinance Active Pending Rescind Charged Off Bad Epic Loan Charged Off Paid Off Bad Epic Loan Closed Rescind Closed Refinanced Closed Early Payoff Closed Full Term Paid Closed Paid Off Closed Debt Sale Closed Deceased Closed Discharged Closed ID Theft Closed Settlement Denied Inactive Epic Application Paid Off Loan Bad Epic Loan Paid Off Loan Inactive Epic Loan Returned Item Active Epic Loan Returned Item Bad Epic Loan Returned Item Paid Off Bad Epic Loan Returned Item Paid Off Inactive Epic Loan Settlement Paid Off Bad Epic Loan Voided New Loan Inactive Epic Application Withdrawn Application Inactive Epic Application Alphabetical Order link LOAN STATUS LOAN SUBSTATUS Active Active Active Bankruptcy Active Called Due Active Cease and Desist Active Complaint Active Debt Management Active Deceased Notification Active ID Theft Notification Active Legal Active Pending Payoff Active Pending Refinance Active Pending Rescind Active SCRA App Closed Application Expired App Closed Customer Withdrawn App Closed Denied App Closed Funding Unsuccessful App Closed Other Approved Ready to Fund Charged Off Bad Epic Loan Charged Off Paid Off Bad Epic Loan Closed Debt Sale Closed Deceased Closed Discharged Closed Early Payoff Closed Full Term Paid Closed ID Theft Closed Paid Off Closed Refinanced Closed Rescind Closed Settlement Denied Inactive Epic Application Paid Off Loan Bad Epic Loan Paid Off Loan Inactive Epic Loan Returned Item Active Epic Loan Returned Item Bad Epic Loan Returned Item Paid Off Bad Epic Loan Returned Item Paid Off Inactive Epic Loan Settlement Paid Off Bad Epic Loan Voided New Loan Inactive Epic Application Withdrawn Application Inactive Epic Application "
            }
        );
    index.add(
            {
                id:  8 ,
                href: "\/docs\/chatgpt\/db-table-columns-info\/",
                title: "db table columns info",
                description: " SELECT c.table_schema, c.table_name, c.column_name, c.data_type FROM information_schema.columns c WHERE c.table_schema NOT IN ('information_schema', 'pg_catalog') ORDER BY c.table_schema, c.table_name, c.ordinal_position ",
                content: " SELECT c.table_schema, c.table_name, c.column_name, c.data_type FROM information_schema.columns c WHERE c.table_schema NOT IN ('information_schema', 'pg_catalog') ORDER BY c.table_schema, c.table_name, c.ordinal_position "
            }
        );
    index.add(
            {
                id:  9 ,
                href: "\/docs\/dbt\/test_passing_multi_args\/",
                title: "dbt test passing multi args",
                description: "Example of a dbt test in which multiple columns are passed to the test as an argument\nThe test itself checks if the set of columns are either all null or all not null (don’t want a mix of null and not null)\nTest Code\n-- tests/generic/test_all_or_none_populated.sql {% test all_or_none_populated(model, column_name, columns) %} with validation as (select {{ columns | join(', ') }}, -- testing if all the columns in the set are null case when not ({{ columns | join(' IS NULL AND ') }} IS NULL) then 1 else 0 end as failed_all_null, -- testing if all the columns in the set are not null case when not ({{ columns | join(' IS NOT NULL AND ') }} IS NOT NULL) then 1 else 0 end as failed_all_not_null from {{ model }} ) -- test fails if there are rows where both failed_all_null = 1 and failed_all_not_null = 1 --\t(ie.",
                content: "Example of a dbt test in which multiple columns are passed to the test as an argument\nThe test itself checks if the set of columns are either all null or all not null (don’t want a mix of null and not null)\nTest Code\n-- tests/generic/test_all_or_none_populated.sql {% test all_or_none_populated(model, column_name, columns) %} with validation as (select {{ columns | join(', ') }}, -- testing if all the columns in the set are null case when not ({{ columns | join(' IS NULL AND ') }} IS NULL) then 1 else 0 end as failed_all_null, -- testing if all the columns in the set are not null case when not ({{ columns | join(' IS NOT NULL AND ') }} IS NOT NULL) then 1 else 0 end as failed_all_not_null from {{ model }} ) -- test fails if there are rows where both failed_all_null = 1 and failed_all_not_null = 1 --\t(ie. there's a mix of nulls and not nulls) select * from validation where failed_all_null = 1 and failed_all_not_null = 1 {% endtest %} Schema definition\n# models/example/dbt_loan_application_summary.sql version: 2 models: - name: dbt_loan_application_summary columns: - name: application_id data_tests: - all_or_none_populated: columns: ['bank_name','bank_account_number','bank_account_type','bank_routing_number'] "
            }
        );
    index.add(
            {
                id:  10 ,
                href: "\/docs\/",
                title: "Docs",
                description: "",
                content: ""
            }
        );
    search.addEventListener('input', show_results, true);

    function show_results(){
        const maxResult =  5 ;
        const minlength =  0 ;
        var searchQuery = sanitizeHTML(this.value);
        var results = index.search(searchQuery, {limit: maxResult, enrich: true});

        
        const flatResults = new Map(); 
        for (const result of results.flatMap(r => r.result)) {
        if (flatResults.has(result.doc.href)) continue;
        flatResults.set(result.doc.href, result.doc);
        }

        suggestions.innerHTML = "";
        suggestions.classList.remove('d-none');

        
        if (searchQuery.length < minlength) {
            const minCharMessage = document.createElement('div')
            minCharMessage.innerHTML = `Please type at least <strong>${minlength}</strong> characters`
            minCharMessage.classList.add("suggestion__no-results");
            suggestions.appendChild(minCharMessage);
            return;
        } else {
            
            if (flatResults.size === 0 && searchQuery) {
                const noResultsMessage = document.createElement('div')
                noResultsMessage.innerHTML = "No results for" + ` "<strong>${searchQuery}</strong>"`
                noResultsMessage.classList.add("suggestion__no-results");
                suggestions.appendChild(noResultsMessage);
                return;
            }
        }

        
        for(const [href, doc] of flatResults) {
            const entry = document.createElement('div');
            suggestions.appendChild(entry);

            const a = document.createElement('a');
            a.href = href;
            entry.appendChild(a);

            const title = document.createElement('span');
            title.textContent = doc.title;
            title.classList.add("suggestion__title");
            a.appendChild(title);

            const description = document.createElement('span');
            description.textContent = doc.description;
            description.classList.add("suggestion__description");
            a.appendChild(description);

            suggestions.appendChild(entry);

            if(suggestions.childElementCount == maxResult) break;
        }
    }
    }());
</script>
    
</body></html>